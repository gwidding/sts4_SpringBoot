<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" >
<head>
	<meta charset="UTF-8">
	<title>상품 등록하기</title>
	<link rel="stylesheet" href="/css/admin-page.css">
</head>

<body>
	<!-- Navigation -->
	<nav id="slide-menu">
		<ul>
			<li class="timeline"><a href="/admin/list">회원 목록</a></li>
			<li class="events"><a href="/admin/registerItem">상품 등록</a></li>
			<li class="calendar">Calendar</li>
			<li class="sep settings">Settings</li>
			<li class="logout">Logout</li>
		</ul>
	</nav>
	
	<!-- Content panelㅇ -->
	<div id="content">
		<div class="menu-trigger"></div>
		<h1>상품 등록하기</h1>
		
		<div>
			<form id="productForm" th:action="@{/products/upload}" th:object="${product}" 
					method="post" onsubmit="return registerMember(this)" enctype="multipart/form-data">
				<h2>등록할 상품 양식</h2>
				<select th:field="*{cate}">
					<option th:each="cate : ${category}" th:value="${category.cateId}" th:text="${category.cateName}">카테고리</option>
				</select>
				<input type="text" th:field="*{pname}" placeholder="상품 이름" class="input" />
				<input type="number" th:field="*{pprice}" placeholder="이름" class="input" />
				<input type="number" th:field="*{stock}" placeholder="0" class="input" />
				<textarea  th:field="*{description}" placeholder="상품 소개 " />
				<input type="file" name="images" accept="image/*" multiple/>
<!--				<input type="file" name="img2" accept="image/*"/>
				<input type="file" name="img3" accept="image/*" />-->
				<button type="submit" class="btn">상품 업로드</button>
			</form>
		</div>

		
	</div>
	
	

</body>

<script src="/js/admin-page.js"></script>
<script src="/js/login-page.js"></script>

<script th:inline="javascript">
	/* <![CDATA[ */
	function registerMember(form) {
		var result = (
			isValid(form.custname, "이름", null, null)
			&& isValid(form.pwd, "비밀번호", null, null)
			&& isValid(form.phone, "전화번호", null, null)
			&& isValid(form.addr, "기본주소", null, null)		
		);
		
		if (result == false) {
			return false;
		}
	}
	
	function setImg(event) {
		var reader = new FileReader();
		reader.inload = function(event) {
			var img = document.createElement("img");
			img.setAttribute("src", event.target.result);
			document.querySelector("div#image_container").appendChild(img);
		};
		reader.readAsDataURL(event.target.files[0]);
	}
</script>

</html>