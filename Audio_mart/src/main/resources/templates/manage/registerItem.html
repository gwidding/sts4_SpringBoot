<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" >
<head>
	<meta charset="UTF-8">
	<title>상품 등록하기</title>
	<link rel="stylesheet" href="/css/admin-page.css">
</head>

<body>
	<!-- Navigation -->
	<nav id="slide-menu">
		<ul>
			<li class="timeline"><a href="/admin/list">회원 목록</a></li>
			<li class="events"><a href="/admin/registerItem">상품 등록</a></li>
			<li class="calendar">Calendar</li>
			<li class="sep settings">Settings</li>
			<li class="logout">Logout</li>
		</ul>
	</nav>
	
	<!-- Content panel -->
	<div id="content">
		<div class="menu-trigger"></div>
		<h1>상품 등록하기</h1>
		
		<div>
			<form id="productForm" th:action="@{/admin/registerItem}" th:object="${product}" 
					method="post" onsubmit="return registerItem(this)">
				<h2>등록할 상품 양식</h2>
				상품 카테고리
				<select th:field="*{cateId}">
					<option th:each="category : ${categories}" th:value="${category.cateId}" th:text="${category.cateName}">카테고리</option>
				</select>
				상품 이름
				<input type="text" th:field="*{pname}" placeholder="상품 이름" />
				상품 가격
				<input type="number" th:field="*{pprice}" />
				상품 재고
				<input type="number" th:field="*{stock}" c/>
				상품 소개
				<textarea  th:field="*{description}" placeholder="상품 소개 " />
				<!--<input type="file" name="images" accept="image/*" multiple/>-->

				<button type="submit" class="btn">상품 업로드</button>
			</form>
		</div>

		
	</div>
	
	

</body>

<script src="/js/admin-page.js"></script>
<script src="/js/login-page.js"></script>

<script th:inline="javascript">
	/* <![CDATA[ */
	function registerItem(form) {
		var result = (
			isValid(form.pname, "상품 이름", null, null)
			&& isValid(form.pprice, "상품 가격", null, null)
			&& isValid(form.stock, "싱품 재고", null, null)
			&& isValid(form.description, "상품 소개", null, null)		
		);
		
		if (result == false) {
			return false;
		}
	}
	
	function setImg(event) {
		var reader = new FileReader();
		reader.inload = function(event) {
			var img = document.createElement("img");
			img.setAttribute("src", event.target.result);
			document.querySelector("div#image_container").appendChild(img);
		};
		reader.readAsDataURL(event.target.files[0]);
	}
</script>

</html>